!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Unlock",[],t):"object"==typeof exports?exports.Unlock=t():e.Unlock=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraysMatch=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.objectSearch=function(e,t){var n=!0;return Object.keys(t).forEach(function(r){r in e&&e[r]===t[r]||(n=!1)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.keyMap=function(){for(var e={tab:9,up:38,down:40,left:37,right:39,enter:13,space:32," ":32,shift:16,ctrl:17,alt:18,win:91,backspace:8,capsLock:20,",":188,".":190,"/":191,"\\":220,esc:27},t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e[t[n]]=n+97,e[t[n].toUpperCase()]=n+65;for(var r=0;r<=9;r++)e[r]=r+48;for(var o=0;o<=9;o++)e["pad"+o]=o+96;return e}(),t.stringKeyMap={U:"up",D:"down",L:"left",R:"right",X:"esc",_:"tab","^":"ctrl","+":"shift","!":"alt","#":"win","<":"backspace",">":"enter"},t.metaMap={ctrlKey:"^",shiftKey:"+",altKey:"!",metaKey:"#"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(1),s=n(0);var l=/^(-)?([\^+!#]*)(.)$/;function f(e){var t=e.match(l);if(!t)throw new Error("Invalid Hotkey: "+e);var n=u(t,4),r=n[1],o=n[2],i=n[3],a={},s=c.stringKeyMap[i]||i;if(a.keyCode=c.keyMap[s.toUpperCase()]||c.keyMap[s.toLowerCase()],!a.keyCode)throw new Error("Invalid Key: "+i);return Object.keys(c.metaMap).forEach(function(e){var t=c.metaMap[e];a[e]=o.indexOf(t)>-1}),{keyEvent:a,preventDefault:!!r}}var h=new WeakMap,y=new WeakMap,d=(o=r=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={},h.set(this,""),y.set(this,!0),"object"===(void 0===t?"undefined":i(t))){var o=t.hotkey,a=t.callback,u=t.element;Object.assign(this,{hotkey:o,callback:a,element:u})}else{var c={hotkey:t,callback:r};c.callback?c.element=n:c.callback=n,Object.assign(this,c)}this.handleKeyPress=this.handleKeyPress.bind(this)}return a(e,[{key:"toggle",value:function(e){y.set(this,void 0!==e?e:!y.get(this))}},{key:"enable",value:function(){this.toggle(!0)}},{key:"disable",value:function(){this.toggle(!1)}},{key:"handleKeyPress",value:function(e){this.check(e)}},{key:"check",value:function(e){var t=this.element;if(t)if(t instanceof Element){if(e.target!==t)return}else if(!(e.target&&e.target.matches&&e.target.matches(t)))return;this.enabled&&(0,s.objectSearch)(e,this.data.keyEvent)&&(this.data.preventDefault&&e.preventDefault(),this.callback())}},{key:"bind",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"unbind",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"hotkey",get:function(){return h.get(this)},set:function(e){this.data=f(e),h.set(this,e)}},{key:"enabled",get:function(){return y.get(this)}}]),e}(),r.parse=f,o);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=n(0);function s(e){return("string"==typeof e?e.split(""):e).map(function(e){return u.stringKeyMap[e]||e}).map(function(e){var t=u.keyMap[e.toUpperCase()]||u.keyMap[e.toLowerCase()];if(!t)throw new Error("Unrecognized key: "+e);return t})}var l=new WeakMap,f=new WeakMap,h=new WeakMap,y=new WeakMap,d=new WeakMap,p=(o=r=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeout=500,l.set(this,null),f.set(this,[]),h.set(this,[]),y.set(this,null),d.set(this,!0),"object"===(void 0===t?"undefined":i(t))){var o=t.name,a=t.code,u=t.callback;Object.assign(this,{name:o,code:a,callback:u})}else Object.assign(this,{name:t,code:n,callback:r});this.handleKeyPress=this.handleKeyPress.bind(this)}return a(e,[{key:"check",value:function(e){return!(!this.enabled||!(0,c.arraysMatch)(this.code,e))&&(this.callback(),!0)}},{key:"handleKeyPress",value:function(e){var t=this;h.get(this).push(e.keyCode),this.check(h.get(this)),clearTimeout(y.get(this)),y.set(this,setTimeout(function(){t.reset()},this.timeout))}},{key:"bind",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"unbind",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"reset",value:function(){h.get(this).length=0}},{key:"toggle",value:function(e){d.set(this,void 0!==e?e:!d.get(this))}},{key:"enable",value:function(){this.toggle(!0)}},{key:"disable",value:function(){this.toggle(!1)}},{key:"toJSON",value:function(){return{name:this.name,code:this.code}}},{key:"toString",value:function(){return this.name}},{key:"code",set:function(e){f.set(this,s(e))},get:function(){return f.get(this)}},{key:"callback",set:function(e){l.set(this,e)},get:function(){return l.get(this)}},{key:"enabled",get:function(){return d.get(this)}}]),e}(),r.compile=s,o);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(3)),u=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var s=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap,y=new WeakMap,d=(o=r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,[]),l.set(this,[]),f.set(this,[]),h.set(this,!0),y.set(this,function(){var e=this,t=void 0;document.addEventListener("keydown",function(n){if(!e.enabled)return!0;f.get(e).push(n.which),clearTimeout(t),t=setTimeout(function(){e.reset()},e.timeout),s.get(e).forEach(function(t){t.check(f.get(e))&&e.resetOnMatch&&e.reset()}),l.get(e).forEach(function(e){e.check(n)})})}.bind(this));var n=t.timeout,r=void 0===n?500:n,o=t.resetOnMatch,i=void 0!==o&&o;this.timeout=r,Object.assign(this,{timeout:r,resetOnMatch:i}),y.get(this)()}return i(e,[{key:"addCheat",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="string"==typeof t[0]?t[0]:t.name,o=this.find(r);if(o)throw Error("A cheat has already been created with the name "+o.name);var i=new(Function.prototype.bind.apply(a.default,[null].concat(t)));return s.get(this).push(i),i}},{key:"addShortcut",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new(Function.prototype.bind.apply(u.default,[null].concat(t)));return l.get(this).push(r),r}},{key:"find",value:function(e){return s.get(this).find(function(t){return t.name===e})}},{key:"reset",value:function(){f.get(this).length=0}},{key:"toggle",value:function(e){h.set(this,void 0!==e?e:!h.get(this))}},{key:"enable",value:function(){this.toggle(!0)}},{key:"disable",value:function(){this.toggle(!1)}},{key:"enabled",get:function(){return h.get(this)}}]),e}(),r.CheatCode=a.default,r.Shortcut=u.default,o);t.default=d},function(e,t,n){e.exports=n(4)}])});