"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"undefined"==typeof window&&console.log("Please be aware that this library is intended for use in the browser."),"function"==typeof define&&define.amd?define(["Unlock"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Unlock=t()}("undefined"!=typeof window?window:void 0,function(){function e(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function t(e){var t=this;this.name=e.name,this.callback=e.callback;var n=e.code,o="undefined"==typeof e.enabled||e.enabled,i={U:"up",D:"down",L:"left",R:"right",X:"esc",_:"tab","^":"ctrl","+":"shift","!":"alt","#":"win","<":"backspace",">":"enter"};this.code=function(){return[].concat(_toConsumableArray(n)).map(function(e){return i[e]||e}).map(function(e){if(!r[e.toLowerCase()])throw new Error("Unrecognized key: "+e);return r[e.toLowerCase()]})},this.isEnabled=function(){return o},this.enable=function(){return o=!0},this.disable=function(){return o=!1},this.toggle=function(){return o=!o},this.trigger=function(){return o&&t.callback()},this.set=function(e,r){switch(e){case"name":throw new Error("Name cannot be changed");case"callback":if("function"!=typeof r)throw new Error("Invalid callback. Expected a function, got "+("undefined"==typeof r?"undefined":_typeof(r)));t.callback=r;break;case"code":if("object"!==("undefined"==typeof r?"undefined":_typeof(r))&&"string"!=typeof r)throw new Error("Invalid callback. Expected an array or string, got "+("undefined"==typeof r?"undefined":_typeof(r)));n=r;break;default:throw new Error("Invalid Setting")}}}function n(n){function o(e){clearTimeout(c.timer),c.current.push(e),i(),c.timer=setTimeout(a,s.delay)}function i(){for(var t=c.cheatCodes.length-1;t>=0;t--)e(c.current,c.cheatCodes[t].code())&&(d.trigger(c.cheatCodes[t].name),a())}function a(){c.current=[]}var c={current:[],timer:null,cheatCodes:[],hotKey:[]},f=!0,d=this,s=_extends({delay:500},n);this.addCheat=function(){var e={name:"",code:"",callback:!1};if(1===arguments.length){var n=arguments[0];if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("Expected object, got "+_typeof(arguments[0]));e=n}else for(var r=0;r<arguments.length;r++)switch(_typeof(arguments[r])){case"string":e.name=e.name||arguments[r];break;case"object":e.code=e.code||arguments[r];break;case"function":e.callback=e.callback||arguments[r]}if(this.find(e.name))throw new Error("Cheat already exists with name "+e.name);if(!e.code||"object"!==_typeof(e.code)&&"string"!=typeof e.code)throw new Error('Missing or invalid "code" property');if(!e.callback||"function"!=typeof e.callback)throw new Error("Missing or invalid cheat code function");if(!e.name||"string"!=typeof e.name)throw new Error("Invalid name");return e=new t(e),c.cheatCodes.push(e),this.find(e.name)},this.settings=function(e){_extends(s,e)},this.find=function(e){return c.cheatCodes.filter(function(t){return t.name===e})[0]},this.reset=function(){return c.cheatCodes=[]},this.enable=function(e){if(e){var t=this.find(e);t.enable()}else f=!0},this.disable=function(e){if(e){var t=this.find(e);t.disable()}else f=!1},this.toggle=function(e){if(e){var t=this.find(e);t.toggle()}else f=!f},this.trigger=function(e){var t=this.find(e);f&&t.trigger()},document.addEventListener("keydown",function(e){var t=void 0;t=window.event?window.event.keyCode:e.which,o(t)}),this._data={keyMap:r,arraysMatch:e}}var r=function(){for(var e={tab:9,up:38,down:40,left:37,right:39,enter:13,space:32," ":32,shift:16,ctrl:17,alt:18,win:91,backspace:8,capsLock:20,",":188,".":190,"/":191,"\\":220,esc:27},t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e[t[n]]=n+65;for(var r=0;r<=9;r++)e[r]=r+48;for(var o=0;o<=9;o++)e["pad"+o]=o+96;return e}();return n});