"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"undefined"==typeof window&&console.log("Please be aware that this library is intended for use in the browser."),"function"==typeof define&&define.amd?define(["Unlock"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Unlock=t()}("undefined"!=typeof window?window:void 0,function(){function e(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function t(e){var t=this,n=a(this),r=e.callback,c=e.code;n("name",e.name,{writable:!1}),n("callback",{set:function(e){if("function"!=typeof e)throw new Error("Invalid callback. Expected a function, got "+("undefined"==typeof e?"undefined":_typeof(e)));r=e},get:function(){return r}}),n("code",{set:function(e){if("object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"string"!=typeof e)throw new Error("Invalid callback. Expected an array or string, got "+("undefined"==typeof e?"undefined":_typeof(e)));c=e},get:function(){var e="string"==typeof c?c.split(""):c;return e.map(function(e){return i[e]||e}).map(function(e){if(!o[e.toLowerCase()])throw new Error("Unrecognized key: "+e);return o[e.toLowerCase()]})}});var f="undefined"==typeof e.enabled||e.enabled,l=!1;n("isEnabled",function(){return f}),n("enable",function(){return f=!l&&!0}),n("disable",function(){return f=!1}),n("toggle",function(){return f=!l&&!f}),n("trigger",function(){return f&&t.callback()}),n("kill",function(){l=!0,f=!1}),this.set=function(e,n){console.warn("Cheat.set() is deprecated. You can just set values using Cheat.property = value."),t[e]=n}}function n(e){function t(e){if(!u)return!0;var t={},n=void 0;n=window.event?window.event.keyCode:e.keyCode>0?e.keyCode:e.which;var a={"^":e.ctrlKey,"+":e.shiftKey,"!":e.altKey,"#":e.metaKey},l=c.match(r),d=l[1],s=l[2],g=l[3];t.default="-"===d,t.meta=s.split(""),t.trigger=g;var y=!0;for(var h in a)if(t.meta.indexOf(h)>-1!==a[h]){y=!1;break}return(!y||n!==o[i[t.trigger]||t.trigger]||(t.default&&e.preventDefault(),f(),!t.default))&&void 0}var n=a(this),r=/^(-)?([\^+!#]*)([\w\d])$/,c=e.trigger,f=e.callback,l=e.selector,d=void 0;n("trigger",{set:function(e){if(!r.test(e))throw new Error("Invalid trigger. For more information, please refer to the docs.");c=e},get:function(){return c}}),n("callback",{set:function(e){if("function"!=typeof e)throw new Error("Invalid callback. Expected a function, got "+("undefined"==typeof e?"undefined":_typeof(e)));f=e},get:function(){return f}}),n("selector",{set:function(e){if(d&&d.removeEventListener("keypress",t),e)if("string"==typeof e)l=e,d=document.querySelector(e);else{if(!e.nodeType)throw new Error("Invalid Selector. Expected an array or string, got "+("undefined"==typeof e?"undefined":_typeof(e))+".");l=e,d=e}else l=e,d=document.body;try{d.addEventListener("keypress",t)}catch(e){console.warn("Element Not Found.")}},get:function(){return[l,d]}}),this.selector=l;var u="undefined"==typeof e.enabled||e.enabled,s=!1;n("isEnabled",function(){return u}),n("enable",function(){return u=!s&&!0}),n("disable",function(){return u=!1}),n("toggle",function(){return u=!s&&!u}),n("kill",function(){s=!0,u=!1})}function r(r){function i(e){var t=void 0;t=window.event?window.event.keyCode:e.keyCode>0?e.keyCode:e.which,clearTimeout(u.timer),u.current.push(t),c(),u.timer=setTimeout(f,y.delay)}function c(){u.cheatCodes.forEach(function(t){e(u.current,t.code)&&(g.trigger(t.name),f())})}function f(){u.current=[]}var l=this,d=a(this),u={current:[],timer:null,cheatCodes:[],hotkeys:[]},s=!0,g=this,y=_extends({delay:500},r);d("addCheat",function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o={name:"",code:"",callback:!1};if(1===n.length){var i=n[0];if("object"!==("undefined"==typeof i?"undefined":_typeof(i)))throw new Error("Expected object, got "+_typeof(n[0]));o=i}else for(var a=0;a<n.length;a++)switch(_typeof(n[a])){case"string":o.name=o.name||n[a];break;case"object":o.code=o.code||n[a];break;case"function":o.callback=o.callback||n[a]}if(l.find(o.name))throw new Error("Cheat already exists with name "+o.name);if(!o.code||"object"!==_typeof(o.code)&&"string"!=typeof o.code)throw new Error('Missing or invalid "code" property');if(!o.callback||"function"!=typeof o.callback)throw new Error("Missing or invalid cheat code function");if(!o.name||"string"!=typeof o.name)throw new Error("Invalid name");return o=new t(o),u.cheatCodes.push(o),o}),d("addHotkey",function(){var e={trigger:"",selector:"",callback:!1};switch(arguments.length){case 1:if("object"!==_typeof(arguments.length<=0?void 0:arguments[0]))throw new Error("Expected object, got "+_typeof(arguments.length<=0?void 0:arguments[0]));_extends(e,arguments.length<=0?void 0:arguments[0]);break;case 2:e.trigger=arguments.length<=0?void 0:arguments[0],e.callback=arguments.length<=1?void 0:arguments[1];break;default:e.trigger=arguments.length<=0?void 0:arguments[0],e.selector=arguments.length<=1?void 0:arguments[1],e.callback=arguments.length<=2?void 0:arguments[2]}if("string"!=typeof e.trigger)throw new Error("Missing or invalid trigger");if(!/^(-)?([\^+!#]*)([\w\d])$/.test(e.trigger))throw new Error("Invalid trigger. Please refer to docs");if(e.selector&&"string"!=typeof e.selector)throw new Error("Invalid selector");if(!e.callback||"function"!=typeof e.callback)throw new Error("Missing or invalid callback");return e=new n(e),u.hotkeys.push(e),e}),d("settings",function(e){return _extends(y,e)}),d("find",function(e){return u.cheatCodes.filter(function(t){return t.name===e})[0]}),d("reset",function(){u.cheatCodes.forEach(function(e){return e.kill()}),u.cheatCodes.length=0,u.hotkeys.forEach(function(e){return e.kill()}),u.hotkeys.length=0}),d("enable",function(e){if(e){var t=l.find(e);t.enable()}else s=!0}),d("disable",function(e){if(e){var t=l.find(e);t.disable()}else s=!1}),d("toggle",function(e){if(e){var t=l.find(e);t.toggle()}else s=!s}),d("trigger",function(e){var t=l.find(e);s&&t.trigger()}),document.addEventListener("keypress",i),this._data={keyMap:o,arraysMatch:e}}var o=function(){for(var e={tab:9,up:38,down:40,left:37,right:39,enter:13,space:32," ":32,shift:16,ctrl:17,alt:18,win:91,backspace:8,capsLock:20,",":188,".":190,"/":191,"\\":220,esc:27},t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e[t[n]]=n+97;for(var r=0;r<=9;r++)e[r]=r+48;for(var o=0;o<=9;o++)e["pad"+o]=o+96;return e}(),i={U:"up",D:"down",L:"left",R:"right",X:"esc",_:"tab","^":"ctrl","+":"shift","!":"alt","#":"win","<":"backspace",">":"enter"},a=function(e){return function(t,n,r){var o={enumerable:!1,configurable:!1};n.get||n.set?r=n:("function"!=typeof n||r?o.writable=!0:o.writable=!1,o.value=n),_extends(o,r),Object.defineProperty(e,t,o)}};return r});